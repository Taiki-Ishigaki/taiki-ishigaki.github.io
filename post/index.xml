<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts | atlab</title>
    <link>/post/</link>
      <atom:link href="/post/index.xml" rel="self" type="application/rss+xml" />
    <description>Posts</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Fri, 13 Dec 2019 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/img/icon-192.png</url>
      <title>Posts</title>
      <link>/post/</link>
    </image>
    
    <item>
      <title>Docker Tips</title>
      <link>/post/tips/docker/docker_tips/</link>
      <pubDate>Fri, 13 Dec 2019 00:00:00 +0000</pubDate>
      <guid>/post/tips/docker/docker_tips/</guid>
      <description>&lt;h2 id=&#34;docker-command&#34;&gt;docker command&lt;/h2&gt;

&lt;h3 id=&#34;dockerイメージをダウンロード&#34;&gt;Dockerイメージをダウンロード&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;docker image pull repository:tag&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;dockerイメージを別名で保存&#34;&gt;Dockerイメージを別名で保存&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;docker image tag repository:tag new_repository:new_tag&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;dockerhubにpush&#34;&gt;DockerHubにpush&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;DockerHubアカウント作成&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;DockerHubにログイン&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;docker login&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;アカウントの確認&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;docker info&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;プッシュ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;docker push repogitory&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;repogitoryの名前はDockerHubのユーザ名から始まるもの&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Using Hugo-Academic</title>
      <link>/post/tips/hugo/hugo-academic/</link>
      <pubDate>Tue, 03 Dec 2019 00:00:00 +0000</pubDate>
      <guid>/post/tips/hugo/hugo-academic/</guid>
      <description>&lt;h2 id=&#34;hugo-install&#34;&gt;hugo install&lt;/h2&gt;

&lt;p&gt;最新のhugoをインストールする（バージョンが古いとacademic-kickstarが使えない&lt;br&gt;
以下のURLより
　 &lt;a href=&#34;https://github.com/gohugoio/hugo/releases&#34;&gt;https://github.com/gohugoio/hugo/releases&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;以下のようにダウンロード(20191203)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;wget https://github.com/gohugoio/hugo/releases/download/v0.60.1/hugo_0.60.1_Linux-64bit.deb&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;以下のコマンドでインストール&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo apt install ./hugo_0.60.1_Linux-64bit.deb&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;hugo version&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;でバージョンを確認することができる&lt;/p&gt;

&lt;h2 id=&#34;hugo-基本操作&#34;&gt;hugo 基本操作&lt;/h2&gt;

&lt;h3 id=&#34;ビルド&#34;&gt;ビルド&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;hugo&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;記事をローカルブラウザで確認&#34;&gt;記事をローカルブラウザで確認&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;hugo server&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;hugo-server-オプション&#34;&gt;hugo server オプション&lt;/h4&gt;

&lt;p&gt;ファイルの変更を検知して自動検知&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;hugo server -w&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ドラフト記事も生成&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;hugo server -D&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;未来の記事を生成&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;hugo server -F&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;academickickstar&#34;&gt;academic-kickstar&lt;/h2&gt;

&lt;h3 id=&#34;setting&#34;&gt;Setting&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;Academic KickstarレポジトリをForkする&lt;/li&gt;

&lt;li&gt;&lt;p&gt;自身のForkしたリポジトリから以下のようにclone (&lt;code&gt;sorcethemes&lt;/code&gt;を自身のGithubユーザー名に変更)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;git clone https://github.com/sourcethemes/academic-kickstart.git My_Website&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;テーマの初期化&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;cd My_Website &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;git submodule update --init --recursive&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ビルド
今回の場合なら&lt;code&gt;My_Website&lt;/code&gt;ディレクトリで以下を実行しビルド&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;hugo&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;reference&#34;&gt;reference&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://sourcethemes.com/academic/docs/&#34;&gt;https://sourcethemes.com/academic/docs/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>軌道エネルギー</title>
      <link>/post/documents/humanoid/orbit_energy/</link>
      <pubDate>Mon, 28 Oct 2019 00:00:00 +0000</pubDate>
      <guid>/post/documents/humanoid/orbit_energy/</guid>
      <description>&lt;h2 id=&#34;線形倒立振子&#34;&gt;線形倒立振子&lt;/h2&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\ddot{x_G} = \omega^2 x_G \tag{1}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;$x_G$は重心位置として，重力加速度を$g$，重心の高さ$z$で一定として$\omega^2 = \frac{g}{z}$とする.&lt;/p&gt;

&lt;h2 id=&#34;軌道エネルギー&#34;&gt;軌道エネルギー&lt;/h2&gt;

&lt;p&gt;式(1)の両辺に右から$x_G$をかけて&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\ddot{x_G}\dot{x_G} = \omega^2 x_G \dot{x_G} \\
\frac{d}{dt} (\frac{1}{2} {\dot{x_G}}^2) = \omega^2 \frac{d}{dt}( \frac{1}{2} {x_G}^2 ) \\
\frac{d}{dt}(\frac{1}{2} {\dot{x_G}}^2 - \omega^2  \frac{1}{2} {x_G}^2 ) = 0  \\
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;以下のように軌道エネルギー$E$を定義すると&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
E = \frac{1}{2} {\dot{x_G}}^2 - \omega^2  \frac{1}{2} {x_G}^2 \tag{2}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;軌道エネルギーの時間変化は&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\frac{d}{dt} E = 0
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;以上のようになるので，一定であることが分かる．&lt;/p&gt;

&lt;h2 id=&#34;軌道エネルギーを用いた計算&#34;&gt;軌道エネルギーを用いた計算&lt;/h2&gt;

&lt;p&gt;任意の重心位置，速度で目標速度$v_d$に制御するための着地点$x_z$を求める．ここで着地点$x_z$上で重心速度が$v_d$になるように計算する．&lt;br&gt;
エネルギーが一定であることから&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\frac{1}{2} {\dot{x_G}}^2 - \omega^2  \frac{1}{2} (x_z - x_G)^2 = \frac{1}{2} {\dot{v_d}}^2 - \omega^2  \frac{1}{2} (x_z - x_z)^2 \\
{\dot{x_G}}^2 - \omega^2  (x_z - x_G)^2 = {\dot{v_d}}^2 \\
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
x_z = x_G + \frac{\sqrt{{\dot{x_G}}^2 - {v_d}^2}}{\omega} \tag{3}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ここで$v_d = 0$とすると以下のようになりcapture pointに一致する&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
x_z = x_G + \frac{\dot{x_G}}{\omega} \tag{4}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;軌道エネルギーの正負から重心がポテンシャルを超えられるか判定することが可能&lt;/p&gt;

&lt;h2 id=&#34;参考文献&#34;&gt;参考文献&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;S.Kajita 2005 &amp;quot;ヒューマノイドロボット&amp;quot; オーム社&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>特異値分解</title>
      <link>/post/documents/math/singular_value_decomposition/</link>
      <pubDate>Thu, 17 Oct 2019 00:00:00 +0000</pubDate>
      <guid>/post/documents/math/singular_value_decomposition/</guid>
      <description>&lt;p&gt;実数行列:$A \in \mathbb{R}^{m \times n}$の特異値分解が以下のように与えられる．&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
A = USV^T =  
\left[
\begin{array}{rr}
U_1 &amp; U_2
\end{array}
\right]
\left[
\begin{array}{rr}
\Sigma_{r \times r} &amp; O_{r \times (n-r)} \\
O_{(m-r) \times r} &amp; O_{(m-r) \times (n-r)}
\end{array}
\right]
\left[
\begin{array}{rr}
{V_1}^T \\
{V_2}^T
\end{array}
\right]
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\Sigma = \rm{diag}(\sigma_1, ... \sigma_r)
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ここでrank$(A) = r$、$U \in \mathbb{R}^{m \times m}$，$V \in \mathbb{R}^{n \times n}$は直交行列，$\sigma_i (i = 1, ... r)$は$A$の特異値&lt;/p&gt;

&lt;p&gt;擬似逆行列は&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
A^{\sharp} =  
\left[
\begin{array}{rr}
U_1 &amp; U_2
\end{array}
\right]
\left[
\begin{array}{rr}
\Sigma_{r \times r}^{-1} &amp; O_{r \times (n-r)} \\
O_{(m-r) \times r} &amp; O_{(m-r) \times (n-r)}
\end{array}
\right]
\left[
\begin{array}{rr}
{V_1}^T \\
{V_2}^T
\end{array}
\right]
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;$U$，$V$は直交行列なので&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
U^T U = U U^T = E_m , V^T V = V V^T = E_n
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;そこで&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
V^T V =
\left[
\begin{array}{rr}
V_1^T \\
V_2^T
\end{array}
\right]
\left[
\begin{array}{rr}
V_1 &amp; V_2
\end{array}
\right] =  
\left[
\begin{array}{rr}
V_1^T V_1 &amp; V_1^T V_2 \\
V_2^T V_1 &amp; V_2^T V_2
\end{array}
\right] =  
E_n
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
V V^T =
\left[
\begin{array}{rr}
V_1 &amp; V_2
\end{array}
\right]
\left[
\begin{array}{rr}
V_1^T \\
V_2^T
\end{array}
\right] =  
V_1 V_1^T + V_2 V_2^T = E_n
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;であるので&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
V_1^T V_1 = E_r, V_2^T V_2 = E_{(n - r)}, V_1^T V_2 = V_2^T V_1 = O
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ここで$V_1$，$V_2$は必ずしも正方行列ではなく$V_1 V_1^T$，$V_2 V_2^T$が単位行列ではない($A$が列フルランクなら$V = V_1$で正方行列)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>優先度付き微分逆運動学</title>
      <link>/post/documents/robotics/task_priority/</link>
      <pubDate>Wed, 09 Oct 2019 00:00:00 +0000</pubDate>
      <guid>/post/documents/robotics/task_priority/</guid>
      <description>&lt;h2 id=&#34;準備&#34;&gt;準備&lt;/h2&gt;

&lt;h3 id=&#34;順運動学と微分順運動学&#34;&gt;順運動学と微分順運動学&lt;/h3&gt;

&lt;p&gt;$x \in \mathbb{R}^{m}$ と リンク系の状態を示す一般化座標$q \in \mathbb{R}^{n}$&lt;/p&gt;

&lt;p&gt;順運動学&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
x = f(q) \tag{1}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;微分順運動学&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\dot{x} = J(q) \dot{q} \tag{2}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ここで$J(q) = \frac{\partial f}{\partial q} \in \mathbb{R}^{m \times n}$&lt;/p&gt;

&lt;h2 id=&#34;微分逆運動学&#34;&gt;微分逆運動学&lt;/h2&gt;

&lt;p&gt;$m &amp;lt; n$で冗長な時，式(1)の一般解，微分逆運動学の式は&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\dot{q} = J^{\sharp} \dot{x} + N y \tag{3}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ここで$J^{\sharp}$は$J$の擬似逆行列で$N$は任意のベクトルを$J(\theta)$のヌルスペースに写像する行列で$y$は任意のベクトル．&lt;/p&gt;

&lt;h2 id=&#34;優先度付き微分逆運動学&#34;&gt;優先度付き微分逆運動学&lt;/h2&gt;

&lt;p&gt;制御を行なう上で実現させたい量(手先の位置や速度，角運動量など)をタスクと呼ぶ．この時，そのタスクは式(1)のように一般化座標で表すことができるためタスクを実現するために一般化座標について解きロボットを制御する．&lt;/p&gt;

&lt;p&gt;ここでそのタスクが優先度を持って与えられたとする．タスク$x_i (i = 1, ... n)$，ここでタスクのインデックスが小さいほど優先順位が高いとする．&lt;/p&gt;

&lt;p&gt;高い優先度のタスクを式(3)の微分逆運動学で実現し，$J_i$のヌルスペースでより低い優先度のタスクを実現する．[1]&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\dot{x_i} = J_i \dot{q}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\dot{q} = {J_i}^{\sharp} \dot{x_i} + N_i y \tag{4}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\dot{x_{i+1}} = J_{i+1} \dot{q} \tag{5}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;式(4)，(5)を同時に満たす，$y$を求める．(5)式に(4)式を代入すると&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\dot{x_{i+1}} = J_{i+1} {J_i}^{\sharp} \dot{x_i} + J_{i+1} N_i y
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
y =  (J_{i+1} N_i )^{\sharp} (\dot{x_{i+1}} - J_{i+1} {J_i}^{\sharp} \dot{x_i}) + N_{i+1} z
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ここで優先度順で解いた時に，漸化式によって分解でき以下のような一般解となる．[2]&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\rm{for} \  i = i \  \rm{to} \  N
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\dot{q_i} = \dot{q_{i-1}} + (J_i N_{i-1})^{\sharp} (\dot{x_i} - J_i \dot{q_{i-1}})
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
N_i = N_{i-1} - (J_i N_{i_1})^{\sharp}(J_i N_{i_1})
\]&lt;/span&gt;&lt;/p&gt;

&lt;h2 id=&#34;reference&#34;&gt;Reference&lt;/h2&gt;

&lt;p&gt;[1]: Y.Nakamura, et al. (1987) &amp;quot;Task-Priority Based Redundancy Control of Robot Manipulators&amp;quot;&lt;br&gt;
[2]: B.Siciliano, J-J E. Slotine (1991) &amp;quot;A General Framework for Managing Multiple Tasks in Highly Redundant Robotic Systems&amp;quot;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>線形倒立振子</title>
      <link>/post/documents/humanoid/lipm/</link>
      <pubDate>Sun, 29 Sep 2019 00:00:00 +0000</pubDate>
      <guid>/post/documents/humanoid/lipm/</guid>
      <description>&lt;h2 id=&#34;倒立振子の運動&#34;&gt;倒立振子の運動&lt;/h2&gt;

&lt;p&gt;地面にfree jointとして接続された長さ$h$の棒に質点(重さ:$m$)倒立振子を考える(簡単のため同一平面上を動く時を考える). 振子の傾きを$\theta$として，倒立振子の運動方程式は，&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
(m h^2)\ddot{\theta} = mg \sin\theta \ h
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;$ 0 \simeq \theta $のとき，$\sin\theta \simeq \theta$とすることができるので&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\ddot{\theta} = \omega^2 \sin\theta \quad  \omega := \sqrt{\frac{g}{h}}\tag{1}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;重心位置$x_G$として，$x_G = h \sin\theta \simeq h\theta$なので(1)式は&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\ddot{x_G} = \omega x_G \tag{2}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;状態変数$x = [x_G \dot{x_G}]^T$として状態方程式は&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\dot{x} =
\left[
\begin{array}{rr}
\dot{x_G} \\
\ddot{x_G} \\
\end{array}
\right] =
\left[
\begin{array}{rr}
0 &amp; 1 \\
\omega^2 &amp; 0 \\
\end{array}
\right]
\left[
\begin{array}{rr}
x_G \\
\dot{x_G} \\
\end{array}
\right] =
Ax \tag{3}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;状態遷移行列$A$の固有値，固有ベクトルを求めシステムの性質を調べる&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
det(\lambda E - A ) = 0 \\
\left|
\begin{array}{rr}
\lambda &amp; -1 \\
-\omega^2 &amp; \lambda \\
\end{array}
\right|
= \lambda^2 - \omega^2 = (\lambda - \omega) (\lambda + \omega) = 0 \\
\lambda = \omega, -\omega
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;固有値は$\lambda = \omega, -\omega$で固有ベクトルは&lt;br&gt;
$\lambda = -\omega &amp;lt; 0$ のとき $a_1 = [1, -\omega]^T$&lt;br&gt;
$\lambda = \omega &amp;gt; 0$ のとき $a_2 = [1, \omega]^T$&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>重心動力学</title>
      <link>/post/documents/robotics/centroidal_dynamics/</link>
      <pubDate>Sun, 22 Sep 2019 00:00:00 +0000</pubDate>
      <guid>/post/documents/robotics/centroidal_dynamics/</guid>
      <description>&lt;h2 id=&#34;剛体の運動方程式&#34;&gt;剛体の運動方程式&lt;/h2&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
m_i \ddot{p_{G_i}} = \hat{f_i} + \sum_j f_{i, j} - m_i g \tag{1}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\dot{L_i} = \hat{\tau_i} + \sum_j \tau_{i, j} \tag{2}
\]&lt;/span&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;$m_i$ : 剛体の質量&lt;br&gt;&lt;/li&gt;
&lt;li&gt;$p_{G_i}$ : 剛体の重心位置&lt;br&gt;&lt;/li&gt;
&lt;li&gt;$L_i$ : 剛体の重心まわりの角運動量&lt;br&gt;&lt;/li&gt;
&lt;li&gt;$\hat{f_i}$ : 剛体に働く外力&lt;/li&gt;
&lt;li&gt;$\hat{\tau_i}$ : 剛体に働く重心まわりのモーメント&lt;/li&gt;
&lt;li&gt;$f_{i, j}$ : 剛体間に働く力&lt;/li&gt;
&lt;li&gt;$\tau_{i, j}$ : 剛体間に働くモーメント&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;多体系の重心の運動方程式&#34;&gt;多体系の重心の運動方程式&lt;/h2&gt;

&lt;p&gt;剛体$l_i$($i = 1, ... n$)からなる多体系の重心に関する運動方程式を導出する.&lt;/p&gt;

&lt;p&gt;まず, 重心$ p_G $を定義する.&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
p_G = \frac{1}{m} \sum_i m_i p_{G_i} \tag{3}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ここで$m$は剛体の全質量である.&lt;/p&gt;

&lt;p&gt;重心の運動量は&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
H_G = m \dot{p_G} \tag{4}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;重心に関する運動方程式は運動量の時間変化から(1),(4)式より以下のように求まる&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\dot{H_G} = m \ddot{p_G} = \sum_i m_i \ddot{p_{G_i}}
= \sum_i (\hat{f_i} + \sum_j f_{i,j} - m_i g)
= \sum_i \hat{f_i}  - m g
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
m \ddot{p_G} = \sum_i \hat{f_i}  - m g \tag{5}
\]&lt;/span&gt;&lt;/p&gt;

&lt;h2 id=&#34;多体系の重心周りの角運動量に関する運動方程式&#34;&gt;多体系の重心周りの角運動量に関する運動方程式&lt;/h2&gt;

&lt;p&gt;多体系の重心周りの角運動量に関する運動方程式を導出する.&lt;/p&gt;

&lt;p&gt;重心周りの角運動量は&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
L_G = \sum_i (L_i + (p_{G_i} - p_G) \times m_i \dot{p_i}) \tag{6}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;重心周りの角運動量に関する運動方程式は角運動量の時間変化から(2), (6)式より以下のように求まる&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\dot{L_G} = \sum_i (\dot{L_i} + (\dot{p_{G_i}} - \dot{p_G}) \times m_i \dot{p_i} + (p_{G_i} - p_G) \times m_i \ddot{p_i}) = \sum_i(\hat{\tau_i} + (p_{G_i} - p_G) \times \hat{f_i})
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\dot{L_G} = \sum_i(\hat{\tau_i} + (p_{G_i} - p_G) \times \hat{f_i}) \tag{7}
\]&lt;/span&gt;&lt;/p&gt;

&lt;h2 id=&#34;接触レンチcontact-wrench&#34;&gt;接触レンチ(contact wrench)&lt;/h2&gt;

&lt;p&gt;並進力成分とモーメント成分を合わせた6次元ベクトル&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\left[
\begin{array}{rr}
f_c \\
\tau_c \\
\end{array}
\right] =
\left[
\begin{array}{rr}
\sum_i \hat{f_i} \\
\sum_i(\hat{\tau_i} + p_{G_i} \times \hat{f_i}\\
\end{array}
\right]
\]&lt;/span&gt;&lt;/p&gt;

&lt;h2 id=&#34;重心の運動方程式&#34;&gt;重心の運動方程式&lt;/h2&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\begin{cases}
m \ddot{p_G} = f_c - mg \\
\dot{L} = \tau_c - p_G \times f_c
\end{cases}
\]&lt;/span&gt;&lt;/p&gt;

&lt;h2 id=&#34;appendix&#34;&gt;Appendix&lt;/h2&gt;

&lt;h3 id=&#34;作用反作用の法則&#34;&gt;作用・反作用の法則&lt;/h3&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
f_{i, j} = - f_{j, i}
\]&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span  class=&#34;math&#34;&gt;\[
\tau_{i, j} + p_i \times f_{i, j} = - (\tau_{j, i} + p_j \times f_{j_i})
\]&lt;/span&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Setup for ESP32</title>
      <link>/post/tips/esp32/esp32_setup/</link>
      <pubDate>Fri, 20 Sep 2019 00:00:00 +0000</pubDate>
      <guid>/post/tips/esp32/esp32_setup/</guid>
      <description>&lt;h2 id=&#34;setup-aruduino-ide&#34;&gt;Setup Aruduino IDE&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.arduino.cc/en/Main/Software&#34;&gt;https://www.arduino.cc/en/Main/Software&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;for use ESP32 on ArduinoIDE&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;[Arduino-ESP32]:&lt;a href=&#34;https://github.com/espressif/arduino-esp32/blob/master/docs/arduino-ide/boards_manager.md&#34;&gt;https://github.com/espressif/arduino-esp32/blob/master/docs/arduino-ide/boards_manager.md&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;copy of Stable release link&lt;/li&gt;
&lt;li&gt;paste : ツールバー&amp;gt;ファイル&amp;gt;環境設定&amp;gt;追加のボードマネージャーのURL&lt;/li&gt;
&lt;li&gt;ボードマネージャー :ツール&amp;gt;ボード&amp;gt;ボードマネージャー then search ESP32&lt;/li&gt;
&lt;li&gt;install : esp32 by Espressifl Systems&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;download-ドライバ&#34;&gt;Download ドライバ&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://jp.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers&#34;&gt;https://jp.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;about-board&#34;&gt;About Board&lt;/h2&gt;

&lt;p&gt;On board LED is GPIO2
&lt;a href=&#34;https://github.com/espressif/arduino-esp32&#34;&gt;https://github.com/espressif/arduino-esp32&lt;/a&gt;
&lt;a href=&#34;https://leico.github.io/TechnicalNote/Arduino/esp32-pinmap&#34;&gt;https://leico.github.io/TechnicalNote/Arduino/esp32-pinmap&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;use-sample-program&#34;&gt;Use Sample Program&lt;/h2&gt;

&lt;p&gt;ファイル&amp;gt;スケッチ例&lt;/p&gt;

&lt;h2 id=&#34;reference&#34;&gt;Reference&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/WK_ZAKK/items/d7fbbb8c0c8eebe5682d&#34;&gt;https://qiita.com/WK_ZAKK/items/d7fbbb8c0c8eebe5682d&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Using OLED(SSD1306:SPI,128x64) by ESP32</title>
      <link>/post/tips/esp32/oled/</link>
      <pubDate>Fri, 20 Sep 2019 00:00:00 +0000</pubDate>
      <guid>/post/tips/esp32/oled/</guid>
      <description>&lt;h2 id=&#34;pin-assintment&#34;&gt;Pin Assintment&lt;/h2&gt;

&lt;p&gt;about SSD1306:SPI,128x64&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;GND&lt;br&gt;&lt;/li&gt;
&lt;li&gt;VCC : 3.3v (or 5v)&lt;br&gt;&lt;/li&gt;
&lt;li&gt;D0 : CLK&lt;br&gt;&lt;/li&gt;
&lt;li&gt;D1 : MOSI&lt;br&gt;&lt;/li&gt;
&lt;li&gt;RES : GPIO&lt;br&gt;&lt;/li&gt;
&lt;li&gt;DC : GPIO&lt;br&gt;&lt;/li&gt;
&lt;li&gt;CS : GPIO&lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;install-library&#34;&gt;Install Library&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;スケッチ&amp;gt;ライブラリをインクルード&amp;gt;ライブラリを管理...&lt;/li&gt;
&lt;li&gt;search and install : Adafruit SSD1306 by Adafruit&lt;/li&gt;
&lt;li&gt;search and install : Adafruit GFX Library&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;modify-library&#34;&gt;Modify Library&lt;/h2&gt;

&lt;p&gt;To match your device, select display size in Adafruit_SSD.h at Arduino/libraries/Adafruit_SSD1306&lt;/p&gt;

&lt;p&gt;change form&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-C&#34; data-lang=&#34;C&#34;&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;define SSD1306_64_48&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// #define SSD1306_128_64
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// #define SSD1306_128_32
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;#&lt;/span&gt;define SSD1306_96_16&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-C&#34; data-lang=&#34;C&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// #define SSD1306_64_48
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;define SSD1306_128_64&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// #define SSD1306_128_32
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;#&lt;/span&gt;define SSD1306_96_16&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;use-sample-program&#34;&gt;Use Sample Program&lt;/h2&gt;

&lt;p&gt;at ファイル&amp;gt;スケッチ例&amp;gt;Adafruit SSD1306 Wemos Mini OLED&amp;gt; ssd 1306_128x64_spi&lt;/p&gt;

&lt;p&gt;Modify sample program about Pin define&lt;/p&gt;

&lt;h2 id=&#34;reference&#34;&gt;Reference&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://circuitdigest.com/microcontroller-projects/esp32-internet-clock&#34;&gt;https://circuitdigest.com/microcontroller-projects/esp32-internet-clock&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://mobile.k05.biz/e/2018/12/ssd1306-128x64-spi.html&#34;&gt;https://mobile.k05.biz/e/2018/12/ssd1306-128x64-spi.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://jumbleat.com/2017/03/16/amazon_cheap_oled_2/&#34;&gt;https://jumbleat.com/2017/03/16/amazon_cheap_oled_2/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>
